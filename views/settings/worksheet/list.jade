extends ../../layout

block scripts
    script(src='javascripts/list_scripts.js')

block content
    .container(style='width: 100%;')
        .tile-area.tile-area-scheme-lightOlive.fg-white
            h1.tile-area-title Klub Młodego Wynalazcy
            .tile-area-controls
                button.square-button.bg-transparent.fg-white.bg-hover-dark.no-border(onclick="showCharms('#charmSearch')")
                    span.mif-search
                a.square-button.bg-transparent.fg-white.bg-hover-dark.no-border(href='../options')
                    span.mif-cog
                a.square-button.bg-transparent.fg-white.bg-hover-dark.no-border(href='/')
                    span.mif-lg.mif-home

    .container.page-content
        .flex-grid
            .row.cell-auto-size
                .cell
                    h1.no-margin-top Baza kart pracy
                    hr(style='height:3px').bg-white
        table#example.display(cellspacing='0', width='100%')


    script.

        var WS_dataJSON = !{JSON.stringify(WS_data)}

        $(document).ready(function () {

            $('#example').DataTable({
                "select": true,
                "data": WS_dataJSON,
                "dom": 'Bfrtip',
                "buttons": [
                    {
                        text: 'Edytuj',
                        action: function ( e, dt, node, config ) {
                            alert(
                            'Row data: '+
                            JSON.stringify( dt.row( { selected: true } ).data() )
                            );
                        },
                    },
                    {
                        text: 'Usuń',
                        action: function (e, dt, node, config) {
                            row_delete(dt.row({selected: true}).data())
                        },
                    }
                ],
                "columns": [
                    {"title": "Temat doświadczenia", "data": "temat_doswiadczenia"},
                    {"title": "Czas trwania [min]", "data": "czas_trwania"},
                    {"title": "Dodał", "data": "uzytkownik"},
                    {"title": "Labolatorium", "data": "labolatorium"}
                ]
            });
        });

